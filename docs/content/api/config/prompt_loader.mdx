# prompt_loader

Prompt loading and templating system for AgentX.

Handles loading prompts from markdown files with Jinja2 variable substitution.

```python
from agentx.config.prompt_loader import ...
```

## Classes

### PromptLoader

```python
class PromptLoader
```

Loads and processes prompt templates from markdown files.

Supports Jinja2 templating with {{ variable_name }} syntax.

#### Methods

##### __init__

```python
def __init__(self, prompts_dir)
```

Initialize the prompt loader.


##### load_prompt

```python
def load_prompt(self, prompt_file, variables)
```

Load a prompt from a markdown file with Jinja2 variable substitution.


##### list_available_prompts

```python
def list_available_prompts(self)
```

List all available prompt files in the prompts directory.


##### clear_cache

```python
def clear_cache(self)
```

Clear the prompt cache.


##### get_template_variables

```python
def get_template_variables(self, prompt_file)
```

Extract template variables from a prompt file.


##### validate_template

```python
def validate_template(self, prompt_file, variables)
```

Validate that a template can be rendered with given variables.


##### render_prompt_with_fallbacks

```python
def render_prompt_with_fallbacks(self, prompt_file, variables, fallback_values)
```

Render a prompt with fallback values for missing variables.



## Functions

### create_prompt_loader

```python
def create_prompt_loader(config_dir)
```

Factory function to create a PromptLoader instance.

**Arguments:**

- `config_dir`: Configuration directory containing prompts/ subdirectory

**Returns:**

PromptLoader instance


### load_prompt

```python
def load_prompt(self, prompt_file, variables)
```

Load a prompt from a markdown file with Jinja2 variable substitution.

**Arguments:**

- `prompt_file`: Name of the prompt file (e.g., "writer_agent.md")
- `variables`: Dictionary of variables for substitution

**Returns:**

Processed prompt text with variables substituted

**Raises:**

- `ConfigurationError`: If prompt file not found or rendering fails


### list_available_prompts

```python
def list_available_prompts(self)
```

List all available prompt files in the prompts directory.

**Returns:**

List of prompt file names


### clear_cache

```python
def clear_cache(self)
```

Clear the prompt cache.


### get_template_variables

```python
def get_template_variables(self, prompt_file)
```

Extract template variables from a prompt file.

**Arguments:**

- `prompt_file`: Name of the prompt file

**Returns:**

List of variable names found in the template


### validate_template

```python
def validate_template(self, prompt_file, variables)
```

Validate that a template can be rendered with given variables.

**Arguments:**

- `prompt_file`: Name of the prompt file
- `variables`: Variables to test with

**Returns:**

True if template renders successfully

**Raises:**

- `ConfigurationError`: If template validation fails


### render_prompt_with_fallbacks

```python
def render_prompt_with_fallbacks(self, prompt_file, variables, fallback_values)
```

Render a prompt with fallback values for missing variables.

**Arguments:**

- `prompt_file`: Name of the prompt file
- `variables`: Primary variables dictionary
- `fallback_values`: Fallback values for missing variables

**Returns:**

Rendered prompt text

